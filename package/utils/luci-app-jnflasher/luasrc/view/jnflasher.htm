<%#
 Copyright 2018 Jo-Philipp Wich <jo@mein.io>
 Licensed to the public under the Apache License 2.0.
-%>

<%+header%>

<style type="text/css">
	.controls {
		display: flex;
		margin: .5em 0 1em 0;
		flex-wrap: wrap;
		justify-content: space-around;
	}

	.controls > * {
		padding: .25em;
		white-space: nowrap;
		flex: 1 1 33%;
		box-sizing: border-box;
		display: flex;
		flex-wrap: wrap;
	}

	.controls > *:first-child,
	.controls > * > label {
		flex-basis: 100%;
		min-width: 250px;
	}

	.controls > *:nth-child(2),
	.controls > *:nth-child(3) {
		flex-basis: 20%;
	}

	.controls > * > .btn {
		flex-basis: 20px;
		text-align: center;
	}

	.controls > * > * {
		flex-grow: 1;
		align-self: center;
	}

	.controls > div > input {
		width: auto;
	}

	.td.version,
	.td.size {
		white-space: nowrap;
	}

	ul.deps, ul.deps ul, ul.errors {
		margin-left: 1em;
	}

	ul.deps li, ul.errors li {
		list-style: none;
	}

	ul.deps li:before {
		content: "↳";
		display: inline-block;
		width: 1em;
		margin-left: -1em;
	}

	ul.deps li > span {
		white-space: nowrap;
	}

	ul.errors li {
		color: #c44;
		font-size: 90%;
		font-weight: bold;
		padding-left: 1.5em;
	}

	ul.errors li:before {
		content: "⚠";
		display: inline-block;
		width: 1.5em;
		margin-left: -1.5em;
	}
</style>

<h2><%:JN51XX Flash utility%></h2>

<div class="controls">
	<div>
		<label><%:Download and install firmware%>:</label>
		<input type="text" name="install" placeholder="<%:Firmware URL…%>" onkeydown="if (event.keyCode === 13) handleManualInstall(event)" /><!--
		--><button class="btn cbi-button cbi-button-action" onclick="handleManualInstall(event)"><%:OK%></button>
	</div>

	<div>
		<label><%:Actions%>:</label>
		<button class="btn cbi-button-action" onclick="handleUpload(event)"><%:Upload Firmware…%></button>
	</div>
</div>

<script type="text/javascript" src="<%=resource%>/view/jnflasher.js"></script>

<%+footer%>
